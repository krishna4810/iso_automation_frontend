<mat-card>
  <mat-card-header>
    <mat-card-title>
      <p class="font-semibold"><mat-icon>filter_list </mat-icon>Filter Dashboard</p></mat-card-title>
  </mat-card-header>
  <mat-card-content class="mt-3">
    <div class="relative">
      <div class="grid grid-cols-10 gap-4">
        <mat-form-field class="col-span-3">
          <mat-label>Plant</mat-label>
          <mat-select [(ngModel)]="selectedPlant">
            <mat-option *ngFor="let option of params.plant" [value]="option">
              {{ option}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="col-span-3">
          <mat-label>Department</mat-label>
          <mat-select [(ngModel)]="selectedDepartment">
            <mat-option *ngFor="let option of params.department" [value]="option">
              {{ option}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="col-span-3">
          <mat-label>Year</mat-label>
          <mat-select [(ngModel)]="selectedYear">
            <mat-option *ngFor="let option of params.year" [value]="option">
              {{ option}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button class="mt-3 col-span-1 h-full" [mat-dialog-close]="true" color="primary" (click)="filterDashboard()">
          <mat-icon>arrow_forward</mat-icon> Go</button>

      </div>

    </div>

  </mat-card-content>
</mat-card>
<br>
<mat-card class="pb-4">
  <mat-card-header>
    <mat-card-title><p class="font-semibold">Summary</p></mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <br>
    <div>
      <div class="grid grid-cols-4 gap-4">
        <div class="grid-cols-1 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <div class="p-4 bg-green-400">
            <mat-icon xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white">
              power
            </mat-icon>
          </div>
          <div class="px-4 text-gray-700">
            <h3 class="text-sm tracking-wider">Total HIRA</h3>
            <p class="text-3xl">{{dashboardData?.hiraCount}}</p>
          </div>
        </div>
        <div class="grid-cols-1 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <div class="p-4 bg-blue-400">
            <mat-icon xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white">
              local_florist
            </mat-icon>
          </div>
          <div class="px-4 text-gray-700">
            <h3 class="text-sm tracking-wider">Total EAI</h3>
            <p class="text-3xl">{{dashboardData?.eaiCount}}</p>
          </div>
        </div>
        <div class="grid-cols-1 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <div class="p-4 bg-yellow-400">
            <mat-icon xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white">
              table_chart
            </mat-icon>
          </div>
          <div class="px-4 text-gray-700">
            <h3 class="text-sm tracking-wider">Total ARR</h3>
            <p class="text-3xl">39,265</p>
          </div>
        </div>
        <div class="grid-cols-1 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <div class="p-4 bg-red-400">
            <mat-icon xmlns="http://www.w3.org/2000/svg" class="h-20 w-20 text-white">
              warning
            </mat-icon>
          </div>
          <div class="px-4 text-gray-700">
            <h3 class="text-sm tracking-wider">High Residual Risks</h3>
            <p class="text-3xl">{{dashboardData?.totalHighResidualCount}}</p>
          </div>
        </div>

      </div>
    </div>
  </mat-card-content>
</mat-card>
<br>
<div>
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <p class="font-semibold">Hazard Impact Risk Analysis</p>
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <br>
      <div class="grid grid-cols-8 gap-4">
        <div class="col-span-4 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <app-bar-graph [barGraphData]="dashboardData?.hira_graph_data"></app-bar-graph>
        </div>
        <div class="col-span-2 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <app-heat-map [name]="'Gross Risk'" [graphData]="dashboardData?.hira_graph_data?.gross_risks"></app-heat-map>
        </div>
        <div class="col-span-2 flex items-center bg-white border rounded-sm overflow-hidden shadow">
          <app-heat-map [name]="'Residual Risk'" [graphData]="dashboardData?.hira_graph_data?.residual_risks"></app-heat-map>
        </div>
      </div>
      <div class="mt-3">
        <mat-card>
          <mat-card-header>
            <mat-card-title>
              <p class="">HIRA Table</p>
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-form-field class="w-1/3">
              <div class="flex">
                <mat-icon class="mr-2">search</mat-icon>
                <input matInput placeholder="Search HIRA" (keyup)="filterUser($event)">
              </div>
            </mat-form-field>
            <br>
            <br>
            <br>
            <app-hira-table></app-hira-table>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-card-content>
  </mat-card>
</div>
